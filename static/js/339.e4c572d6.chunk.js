"use strict";(self.webpackChunkfinances_planner=self.webpackChunkfinances_planner||[]).push([[339],{4104:(e,s,a)=>{a.d(s,{A:()=>l});const n="Section_vectorImg__zw3S9";var t=a(579);const l=e=>{let{children:s}=e;return(0,t.jsx)("section",{className:n,children:s})}},8277:(e,s,a)=>{a.d(s,{v:()=>d});var n=a(4635),t=a(3045),l=a(3501),o=a(579);const{Option:c}=n.c,d=e=>(0,o.jsxs)(c,{...e,children:[(0,o.jsx)(t.A,{name:e.data.value,width:18,height:18,secondaryClassName:l.A.categoryIcon}),e.data.label]})},7339:(e,s,a)=>{a.r(s),a.d(s,{default:()=>B});var n=a(5004),t=a(5043),l=a(9456),o=a(8692),c=a(1128),d=a(3892),i=a(899);const r="TransactionDataList_form__PQet4",m="TransactionDataList_lable__tgMqy",p="TransactionDataList_input__UYAuz",_="TransactionDataList_inputTitle__ZMOet",x="TransactionDataList_inputWrapper__NCwBF",u="TransactionDataList_errorSpan__qwVwx";var h=a(579);const j=e=>{let{name:s,title:a,placeholder:n,disabled:t}=e;return(0,h.jsxs)("label",{htmlFor:s,className:m,children:[(0,h.jsx)("p",{className:_,children:a}),(0,h.jsx)(d.D0,{className:p,type:"text",name:s,placeholder:n,disabled:t})]})},b="ExpensesLimits_expenses__aXlAh",v="ExpensesLimits_expensesWrapper__pVgmK",A="ExpensesLimits_list__P7L9Z",y="ExpensesLimits_item__z3Vxk",N="ExpensesLimits_sum__2nfRD",g="ExpensesLimits_text__5Gmts",C="ExpensesLimits_buttonWrapper__Wr4Em",M="ExpensesLimits_buttonReady__uKK-W",I="ExpensesLimits_btnModal__Ev4l8";var L=a(5854);const w=e=>{let{openModal:s}=e;const{dailyLimit:a,monthLimit:n,totalByDay:t,totalByMounth:o}=(0,l.d4)(L.MD),c=e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ");return(0,h.jsx)("div",{className:b,children:(0,h.jsxs)("div",{className:v,children:[(0,h.jsxs)("ul",{className:A,children:[(0,h.jsxs)("li",{className:y,children:[(0,h.jsxs)("p",{className:N,children:[c(Math.round(a-t))," \u20b4"]}),(0,h.jsx)("p",{className:g,children:"Daily limit"})]}),(0,h.jsxs)("li",{className:y,children:[(0,h.jsxs)("p",{className:N,children:[c(Math.round(n-o))," \u20b4"]}),(0,h.jsx)("p",{className:g,children:"Monthly limit"})]})]}),(0,h.jsxs)("div",{className:C,children:[(0,h.jsx)("button",{className:M,type:"submit",children:"Ready"}),(0,h.jsx)("button",{className:I,type:"button",onClick:s,children:"Add income"})]})]})})};var E=a(3045),S=a(3501),f=a(7950);const D=document.querySelector("#modal-root"),k=e=>{let{closeModal:s,text:a}=e;const n=(0,l.wA)(),c=(0,t.useCallback)((e=>{"Escape"===e.code&&s()}),[s]);return(0,t.useEffect)((()=>(window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)})),[c]),(0,f.createPortal)((0,h.jsx)("div",{className:S.A.overlayAddIncome,onClick:e=>{e.target===e.currentTarget&&s()},children:(0,h.jsxs)("div",{className:S.A.modalWrapper,children:[(0,h.jsx)(d.l1,{onSubmit:(e,a)=>{n((0,o.LP)({sum:e.sum,type:"income"})),a.resetForm(),s()},initialValues:{sum:""},children:(0,h.jsxs)(d.lV,{className:S.A.modalAddIncome,children:[(0,h.jsx)(d.D0,{className:S.A.modalInput,type:"text",name:"sum",placeholder:a}),(0,h.jsxs)("div",{className:S.A.btnContainer,children:[(0,h.jsx)("button",{className:S.A.btnAdd,type:"submit",children:"Add"}),(0,h.jsx)("button",{className:S.A.btnClose,type:"button",onClick:s,children:"Cancel"})]})]})}),(0,h.jsx)("button",{className:S.A.btnSvg,onClick:s,children:(0,h.jsx)(E.A,{name:"icon-close",width:24,height:24,secondaryClassName:S.A.iconClose})})]})}),D)};var T=a(6285),V=a(8277);const P=e=>{let{transformCategory:s,onChange:a,value:n}=e;return(0,h.jsxs)("label",{className:"labelForSelector",children:[(0,h.jsx)("p",{className:"labelText",children:"Per category"}),(0,h.jsx)(T.Ay,{onChange:a,value:n,isSearchable:!1,placeholder:"Choose category",className:"select-container",classNamePrefix:"select",options:s,name:"category",components:{Option:V.v}})]})};var W=a(3427);const F={comment:"",sum:"",category:""},K=i.object().shape({comment:i.string().max(80),sum:i.number().positive("enter only a positive number").required("This field is required"),category:i.string()}),Z=()=>{const[e,s]=(0,t.useState)("other"),[a,n]=(0,t.useState)(!1),i=(0,l.d4)(L.ZU),m=(0,l.d4)(L.pY),p=(0,l.d4)(c.SM),_=(0,l.wA)(),b=m.map((e=>{let{name:s,title:a}=e;return{value:s,label:a}}));return(0,h.jsxs)("div",{children:[i&&(0,h.jsx)(W.A,{}),(0,h.jsx)(d.l1,{onSubmit:(s,a)=>{_((0,o.LP)({...s,comment:s.comment?s.comment:"no comment",sum:Number(s.sum),category:e,type:"expense"})),a.resetForm()},validationSchema:K,initialValues:F,children:(0,h.jsxs)(d.lV,{autoComplete:"off",children:[(0,h.jsxs)("div",{className:r,children:[(0,h.jsx)("div",{className:x,children:(0,h.jsx)(j,{name:"balance",title:"From account",placeholder:`Account balance: \u20b4 ${v=Math.round(p),v.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")} `,disabled:!0})}),(0,h.jsx)("div",{className:x,children:(0,h.jsx)(P,{onChange:e=>{s(e.value)},value:e?b.find((s=>s.value===e)):"",transformCategory:b})}),(0,h.jsxs)("div",{className:x,children:[(0,h.jsx)(j,{name:"comment",title:"Expense comment",placeholder:"Enter comment"}),(0,h.jsx)(d.Kw,{name:"comment",children:e=>(0,h.jsx)("span",{className:u,children:e})})]}),(0,h.jsxs)("div",{className:x,children:[(0,h.jsx)(j,{name:"sum",title:"Sum",placeholder:"00.00"}),(0,h.jsx)(d.Kw,{name:"sum",children:e=>(0,h.jsx)("span",{className:u,children:e})})]})]}),(0,h.jsx)(w,{openModal:()=>{n(!0)}})]})}),a&&(0,h.jsx)(k,{text:"Enter income",closeModal:()=>n(!1)})]});var v};var q=a(4104);const B=()=>{const e=(0,l.wA)(),s=(0,l.d4)(c.VS);return(0,t.useEffect)((()=>{s&&e((0,o.p7)()),s&&e((0,o.si)())}),[e,s]),(0,h.jsx)(q.A,{children:(0,h.jsx)(n.A,{children:(0,h.jsx)(Z,{})})})}},5854:(e,s,a)=>{a.d(s,{MD:()=>n,ZU:()=>l,pY:()=>t});const n=e=>e.expenses.presaving,t=e=>e.expenses.category,l=e=>e.expenses.isLoading},3501:(e,s,a)=>{a.d(s,{A:()=>n});const n={overlayAddIncome:"MoadlAddIncome_overlayAddIncome__1P5D8",modalWrapper:"MoadlAddIncome_modalWrapper__TwlUa",modalAddIncome:"MoadlAddIncome_modalAddIncome__Od7vw",modalInput:"MoadlAddIncome_modalInput__ZH85Z",btnContainer:"MoadlAddIncome_btnContainer__ELtRK",btnAdd:"MoadlAddIncome_btnAdd__dTtCU",btnClose:"MoadlAddIncome_btnClose__nIubc",btnSvg:"MoadlAddIncome_btnSvg__Q6jjo",iconClose:"MoadlAddIncome_iconClose__owHnM",categoryIcon:"MoadlAddIncome_categoryIcon__C4OJV"}}}]);
//# sourceMappingURL=339.e4c572d6.chunk.js.map