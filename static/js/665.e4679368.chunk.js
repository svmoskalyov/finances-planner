"use strict";(self.webpackChunkfinances_planner=self.webpackChunkfinances_planner||[]).push([[665],{6339:(e,a,s)=>{s.d(a,{A:()=>p});var t=s(5043),n=s(1899),i=s.n(n),r=(s(5015),s(3045)),c=s(9456),l=s(700),o=s(3216),d=s(1128),m=s(3024),h=s(2294),u=s(579);const g=["January","February","March","April","May","June","July","August","September","October","November","December"],p=()=>{const e=(0,c.wA)(),[a,s]=(0,t.useState)(new Date),n=(0,c.d4)(d.VS),p=(0,o.zy)(),[_,x]=(0,t.useState)(!1),f=p.pathname.endsWith("dynamics");(0,t.useEffect)((()=>{p.pathname.endsWith("transactions")&&n&&e((0,l.xw)(y(a))),p.pathname.endsWith("categories")&&n&&e((0,l.LD)(y(a))),p.pathname.endsWith("dynamics")&&n&&e((0,h.SV)(y(a)))}),[n,e,p.pathname,a]);const y=e=>{const a=e.getMonth();return{year:e.getFullYear(),month:a+1}};return(0,u.jsxs)("div",{className:(0,m.A)("calendarWrap",f&&"calendarDynamicsWrap"),children:[(0,u.jsx)(i(),{selected:a,onChange:e=>(e=>{s(e),x(!0)})(e),value:(e=>{const a=e.getMonth(),s=e.getFullYear();return`${g[a]}, ${s}`})(a),onCalendarClose:()=>{return s=a,void(_||(p.pathname.endsWith("transactions")&&e((0,l.xw)(y(s))),p.pathname.endsWith("categories")&&e((0,l.LD)(y(s))),f&&e((0,h.SV)(y(s))),x(!0)));var s},maxDate:new Date,dateFormat:"MM/yyyy",showMonthYearPicker:!0}),(0,u.jsx)(r.A,{name:f?"icon-vector-down":"icon-calendar",width:"24",height:"24",className:"icon-calendar",secondaryClassName:"icon-claendar-dynamics"})]})}},3665:(e,a,s)=>{s.r(a),s.d(a,{default:()=>V});var t=s(461),n=s(6058),i=s(5043);const r={dynamicsChartContainer:"Chart_dynamicsChartContainer__l5JKW",title:"Chart_title__eAN-E",list:"Chart_list__C+uqb",listItem:"Chart_listItem__dTZyR",chartContainer:"Chart_chartContainer__AKMWK",select:"Chart_select__VD3be",statList:"Chart_statList__YMJpy",statListItem:"Chart_statListItem__4USfE",itemTitle:"Chart_itemTitle__1AXCy",itemNum:"Chart_itemNum__1A-8B",errorItem:"Chart_errorItem__BDI6B"},c={chartArea:{bottom:5},maintainAspectRatio:!1,categoryPercentage:.75,barPercentage:.5,indexAxis:"y",borderRadius:6,elements:{bar:{borderWidth:0}},responsive:!0,plugins:{legend:{display:!1,labels:{font:{size:16}}},title:{display:!1}},layout:{padding:{left:40}},scales:{y:{beginAtZero:!0,grid:{display:!1,borderColor:"white",borderWidth:2},border:{display:!1},ticks:{color:"#F3F3F3",padding:0,backdropPadding:0,font:{size:12}},gridLines:{tickMarkLength:10},position:{y:-.75}},x:{grid:{color:"rgba(243, 243, 243, 0.2)",offset:!1,tickLength:13,tickBorderDash:[3,10]},border:{display:!1,dash:[8,10]},ticks:{color:"#F3F3F3"},position:"top"}},labels:{fontColor:"#F3F3F3"}},l={chartArea:{bottom:5},maintainAspectRatio:!1,categoryPercentage:.75,barPercentage:.5,indexAxis:"x",borderRadius:6,elements:{bar:{borderWidth:0}},responsive:!0,plugins:{legend:{display:!1,labels:{font:{size:16}}},title:{display:!1}},layout:{padding:{left:0}},scales:{y:{beginAtZero:!0,grid:{display:!0,offset:!1,color:"rgba(243, 243, 243, 0.2)",tickLength:10,tickBorderDash:[3,10]},border:{display:!0,dash:[8,10]},ticks:{color:"#F3F3F3",backdropPadding:0,font:{size:12,family:"Lato",weight:400}},gridLines:{tickMarkLength:10}},x:{grid:{display:!1,color:"rgba(243, 243, 243, 0.2)",offset:!1,tickLength:10},border:{display:!1,dash:[8,10]},ticks:{color:"#F3F3F3",font:{size:12,family:"Lato",weight:400}}}}};var o=s(9456),d=s(2294),m=s(192);const h=e=>e.dynamics.statByYear,u=e=>e.dynamics.statByMonth,g=e=>e.dynamics.accumulatedProc,p=e=>e.dynamics.accumulatedUah,_=e=>e.dynamics.flatImage,x=e=>e.dynamics.month,f=e=>e.dynamics.square\u041ceters,y=e=>e.dynamics.year,j=(0,m.Mz)([p,e=>e.ownPlan.plan.footage,e=>e.ownPlan.plan.cost],((e,a,s)=>{const t=s/a,n=t>e?t-e:t-e%t;return 0===n?t:n}));var N=s(1128),b=s(6339),C=s(5237),v=s(579);t.t1.register(t.Bs,t.m_,t.s$,t.PP,t.kc,t.E8,t.hE);const I=()=>{const e=(0,C.useMediaQuery)({query:"(min-width: 768px)"}),a=(0,o.wA)(),s=(0,i.useRef)(null),t=(0,o.d4)(N.VS),m=(0,o.d4)(h),g=(0,o.d4)(u),{income:p,expense:_,accumulated:x,plan:f,planInProcent:y}=g,j=(0,i.useMemo)((()=>["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),[]);(0,i.useEffect)((()=>{t&&a((0,d.Ll)())}),[a,t]);const I=(0,i.useMemo)((()=>({labels:j,datasets:[{data:j.map(((e,a)=>{for(let s of m){let e=s.income-s.expense;if(a+1===+s.month)return e>=0?e:1}return 0})),backgroundColor:"#6359E9"},{data:j.map(((e,a)=>{for(let s of m)if(a+1===+s.month)return s.expense;return 0})),backgroundColor:"#3A6AF5"},{data:j.map(((e,a)=>{for(let s of m)if(a+1===+s.month)return s.income;return 0})),backgroundColor:"#F3F3F3"}]})),[j,m]);return(0,v.jsxs)("div",{className:r.dynamicsChartContainer,children:[(0,v.jsx)("h1",{className:r.title,children:"Dynamics of expenses and savings"}),(0,v.jsxs)("ul",{className:r.list,children:[(0,v.jsx)("li",{className:r.listItem,children:"Accumulated"}),(0,v.jsx)("li",{className:r.listItem,children:"Expenses"}),(0,v.jsx)("li",{className:r.listItem,children:"Income"})]}),e?(0,v.jsx)("div",{className:r.chartContainer,children:(0,v.jsx)(n.yP,{ref:s,options:l,data:I,height:"100%",width:"100%"})}):(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("div",{className:r.chartContainer,children:(0,v.jsx)(n.yP,{ref:s,options:c,data:I,height:"100%",width:"100%"})})}),(0,v.jsxs)("div",{className:r.statContainer,children:[(0,v.jsx)(b.A,{}),"no transactions for this period"===g?(0,v.jsx)("p",{className:r.errorItem,children:"No information for this period"}):(0,v.jsxs)("ul",{className:r.statList,children:[(0,v.jsxs)("li",{className:r.statListItem,children:[(0,v.jsx)("p",{className:r.itemTitle,children:"Income, \u20b4"}),(0,v.jsx)("p",{className:r.itemNum,children:p||0})]}),(0,v.jsxs)("li",{className:r.statListItem,children:[(0,v.jsx)("p",{className:r.itemTitle,children:"Expenses, \u20b4"}),(0,v.jsx)("p",{className:r.itemNum,children:_||0})]}),(0,v.jsxs)("li",{className:r.statListItem,children:[(0,v.jsx)("p",{className:r.itemTitle,children:"Accumulated, \u20b4"}),(0,v.jsx)("p",{className:r.itemNum,children:x||0})]}),(0,v.jsxs)("li",{className:r.statListItem,children:[(0,v.jsx)("p",{className:r.itemTitle,children:"Plan, \u20b4"}),(0,v.jsx)("p",{className:r.itemNum,children:f||0})]}),(0,v.jsxs)("li",{className:r.statListItem,children:[(0,v.jsx)("p",{className:r.itemTitle,children:"Plan, %"}),(0,v.jsx)("p",{className:r.itemNum,children:isNaN(parseInt(y))||null===y?"0":parseInt(y)})]})]})]})]})},w={infoContainer:"Info_infoContainer__Lmpcd",title:"Info_title__euRFB",list:"Info_list__TyBOA",item:"Info_item__nT5Sh",text:"Info_text__52E5-",num:"Info_num__bHqjF",barTitle:"Info_barTitle__zB1yE",bar:"Info_bar__3VkbB",barFill:"Info_barFill__SQkUC",imageElement:"Info_imageElement__izvFD",imageContainer:"Info_imageContainer__Gx+9j",image:"Info_image__yi7O7",imageBtn:"Info_imageBtn__JnSA4",accRemain:"Info_accRemain__a01X5",accTitleContainer:"Info_accTitleContainer__5lwC9",accTitle:"Info_accTitle__pFO9i",accSpan:"Info_accSpan__RdcDJ",accNum:"Info_accNum__qbWlE",svgContainer:"Info_svgContainer__WtBiO"};var A=s(9337),F=s(6790);function k(e){const a=(0,i.useRef)(null);let{trigger:s,setTrigger:t}=e;var n;return n=a,(0,i.useEffect)((()=>{function e(e){n.current&&!n.current.contains(e.target)&&t(s=!0)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[n]),(0,v.jsx)("div",{ref:a,children:e.children})}var L=s(3045);const M="ModalHooray_overlay__Pjm6L",T="ModalHooray_modalWrap__6L4y9",E="ModalHooray_title__fVu1m",P="ModalHooray_text__iQO3v",S="ModalHooray_bcgLeft__TzbkH",D="ModalHooray_bcgRight__4-6Fq",W="ModalHooray_btnClose__5IVAL";var B=s(7950);const R=document.querySelector("#modal-root"),q=e=>{let{closeModal:a}=e;const s=(0,i.useCallback)((e=>{"Escape"===e.code&&a()}),[a]);return(0,i.useEffect)((()=>(window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)})),[s]),(0,B.createPortal)((0,v.jsx)("div",{className:M,onClick:e=>{e.target===e.currentTarget&&a()},children:(0,v.jsxs)("div",{className:T,children:[(0,v.jsx)("button",{className:W,onClick:()=>a(),children:(0,v.jsx)(L.A,{name:"icon-close",width:24,height:24,fill:"white"})}),(0,v.jsx)("h3",{className:E,children:"Hooray! Congratulations!"}),(0,v.jsxs)("p",{className:P,children:["You did it! ",(0,v.jsx)("br",{}),"We are so proud of you and wish you all the best as you embark on this exciting new chapter of your life."]}),(0,v.jsx)("div",{className:S}),(0,v.jsx)("div",{className:D})]})}),R)},H={width:"87%",height:"87%",display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:10,borderColor:"rgba(255, 255, 255, 0.2)",borderStyle:"dashed",backgroundColor:"rgba(110, 110, 110, 0.2)",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},J=e=>{const a=(0,o.d4)(g),s=(0,o.d4)(N.VS),t=(0,o.d4)(p),n=(0,o.d4)(_),r=(0,o.d4)(x),c=(0,o.d4)(f),l=(0,o.d4)(y),m=(0,o.d4)(F.qF),h=(0,o.d4)(F.Ae),u=(0,o.d4)(j),[b,C]=(0,i.useState)(!1),{acceptedFiles:I,getRootProps:M,getInputProps:T}=(0,A.VB)({accept:{"image/jpeg":[],"image/png":[]}});let[E,P]=(0,i.useState)(!0);const S=(0,o.wA)(),D=I;(0,i.useEffect)((()=>{if(D.length>0){const e=new FormData;e.append("image",I[0]),S((0,d.AF)(e))}}),[I,D.length,S,E]),(0,i.useEffect)((()=>{h&&s&&Number(c)>=m.footage&&C(!0)}),[m.footage,c,s,h]);const W=(0,i.useMemo)((()=>({...H})),[]);function B(e,a){return e>a?a:e}return(0,v.jsxs)(v.Fragment,{children:[b&&(0,v.jsx)(q,{closeModal:()=>{C(!1)}}),(0,v.jsxs)("div",{className:w.infoContainer,children:[(0,v.jsxs)("div",{className:w.accumulated,children:[(0,v.jsxs)("p",{className:w.title,children:["After ",t>=m.cost?0:l," "," ","years ",t>=m.cost?0:r," month"]}),(0,v.jsxs)("ul",{className:w.list,children:[(0,v.jsxs)("li",{className:w.item,children:[(0,v.jsx)("p",{className:w.text,children:"Accumulated, %:"}),(0,v.jsxs)("p",{className:w.num,children:[B(a,100),"%"]})]}),(0,v.jsxs)("li",{className:w.item,children:[(0,v.jsx)("p",{className:w.text,children:"Accumulated, UAH:"}),(0,v.jsxs)("p",{className:w.num,children:[B(t,m.cost)," \u20b4"]})]}),(0,v.jsxs)("li",{className:w.item,children:[(0,v.jsx)("p",{className:w.text,children:"And This:"}),(0,v.jsxs)("p",{className:w.num,children:[c>=m.footage?m.footage:c," ","sq.m"]})]})]}),(0,v.jsxs)("p",{className:w.barTitle,children:[B(c,m.footage)," out of ",m.footage," ","sq.m accumulated"]}),(0,v.jsx)("div",{className:w.bar,children:(0,v.jsx)("div",{className:w.barFill,style:{width:function(){const e=c/m.footage*100;return e>=100?"100%":`${e}%`}()}})})]}),(0,v.jsxs)("div",{className:w.imageElement,children:[(0,v.jsx)(k,{trigger:E,setTrigger:P,children:E?(0,v.jsx)("div",{className:w.imageContainer,onClick:function(){n||P(!1)},children:n?(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("img",{className:w.image,src:n,alt:"flat plan"})}):(0,v.jsx)(L.A,{name:"icon-photo-camera",width:100,height:100})}):(0,v.jsx)("div",{className:w.imageContainer,children:(0,v.jsxs)("div",{...M({style:W}),children:[(0,v.jsx)("input",{...T()}),(0,v.jsx)("p",{children:"Drag 'n' drop some files here, or click to select files"}),(0,v.jsx)("em",{children:"(Only *.jpeg and *.png images will be accepted)"})]})})}),(0,v.jsx)("p",{className:w.imageBtn,style:{visibility:E?"visible":"hidden"},onClick:()=>P(!1),children:"Change image"})]})]}),(0,v.jsxs)("div",{className:w.accRemain,children:[(0,v.jsxs)("div",{className:w.accTitleContainer,children:[(0,v.jsxs)("p",{className:w.accTitle,children:["To add more ",(0,v.jsx)("span",{className:w.accSpan,children:"1 sq.m"})," for planning, it remains to accumulate"]}),(0,v.jsxs)("p",{className:w.accNum,children:[c>=m.footage?0:Math.round(u)," ","\u20b4"]})]}),(0,v.jsx)("div",{className:w.svgContainer})]})]})},z="DynamicsPage_section__gfswJ",V=()=>(0,v.jsxs)("section",{className:z,children:[(0,v.jsx)(I,{}),(0,v.jsx)(J,{})]})}}]);
//# sourceMappingURL=665.e4679368.chunk.js.map